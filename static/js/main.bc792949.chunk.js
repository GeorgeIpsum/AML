(this.webpackJsonpaml=this.webpackJsonpaml||[]).push([[0],{131:function(t,e,n){},132:function(t,e,n){},133:function(t,e,n){},134:function(t,e,n){},135:function(t,e,n){},138:function(t,e,n){},139:function(t,e,n){},140:function(t,e,n){},141:function(t,e,n){},142:function(t,e,n){},143:function(t,e,n){"use strict";n.r(e);var r,a=n(0),o=n.n(a),i=n(22),s=n.n(i),c=(n(54),n(8)),u=n.n(c),l=n(16),p=n(6),d=n(7),h=n(11),m=n(10),f=n(12),v=(n(56),n(3)),g=n(27);!function(t){t.unprocessed="unprocessed",t.trashed="trashed",t.incubated="incubated",t.referenced="referenced",t.actedUpon="acted upon",t.deferred="deferred",t.delegated="delegated",t.addedToProject="added to project"}(r||(r={}));var x=v.e.model("Deposit").props({id:v.e.optional(v.e.identifier,"xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx"),value:v.e.string,status:v.e.optional(v.e.enumeration("DepositStatus",Object.values(r)),r.unprocessed),dateAdded:v.e.optional(v.e.Date,new Date),dateEdited:v.e.optional(v.e.Date,new Date),contextId:v.e.optional(v.e.string,"")}).actions((function(t){return{setId:function(e){t.id=e},setValue:function(e){t.value=e,t.dateEdited=new Date},setStatus:function(e){t.status=e,t.dateEdited=new Date}}})).views((function(t){return{get context(){var e=Object(v.b)(t);return e&&e.contextStore?e.contextStore.findById(t.contextId):""}}})),b=n(2),O=function(t){void 0===t&&(t=(new Date).getTime()),this.N=624,this.M=397,this.MATRIX_A=2567483615,this.UPPER_MASK=2147483648,this.LOWER_MASK=2147483647,this.mt=new Array(this.N),this.mti=this.N+1,t.constructor===Array?this.init_by_array(t,t.length):this.init_seed(t)};O.prototype.init_seed=function(t){for(this.mt[0]=t>>>0,this.mti=1;this.mti<this.N;this.mti++){t=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&t)>>>16)<<16)+1812433253*(65535&t)+this.mti,this.mt[this.mti]>>>=0}},O.prototype.init_by_array=function(t,e){var n,r,a;for(this.init_seed(19650218),n=1,r=0,a=this.N>e?this.N:e;a;a--){var o=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1664525*((4294901760&o)>>>16)<<16)+1664525*(65535&o))+t[r]+r,this.mt[n]>>>=0,r++,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1),r>=e&&(r=0)}for(a=this.N-1;a;a--){o=this.mt[n-1]^this.mt[n-1]>>>30;this.mt[n]=(this.mt[n]^(1566083941*((4294901760&o)>>>16)<<16)+1566083941*(65535&o))-n,this.mt[n]>>>=0,++n>=this.N&&(this.mt[0]=this.mt[this.N-1],n=1)}this.mt[0]=2147483648},O.prototype.random_int=function(){var t,e=new Array(0,this.MATRIX_A);if(this.mti>=this.N){var n;for(this.mti===this.N+1&&this.init_seed(5489),n=0;n<this.N-this.M;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+this.M]^t>>>1^e[1&t];for(;n<this.N-1;n++)t=this.mt[n]&this.UPPER_MASK|this.mt[n+1]&this.LOWER_MASK,this.mt[n]=this.mt[n+(this.M-this.N)]^t>>>1^e[1&t];t=this.mt[this.N-1]&this.UPPER_MASK|this.mt[0]&this.LOWER_MASK,this.mt[this.N-1]=this.mt[this.M-1]^t>>>1^e[1&t],this.mti=0}return t=this.mt[this.mti++],t^=t>>>11,t^=t<<7&2636928640,t^=t<<15&4022730752,(t^=t>>>18)>>>0},O.prototype.random_int31=function(){return this.random_int()>>>1},O.prototype.random_incl=function(){return this.random_int()*(1/4294967295)},O.prototype.random=function(){return this.random_int()*(1/4294967296)},O.prototype.random_excl=function(){return(this.random_int()+.5)*(1/4294967296)},O.prototype.random_long=function(){return(67108864*(this.random_int()>>>5)+(this.random_int()>>>6))*(1/9007199254740992)};var E=O;var S="function"===typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e,n,r=Object(t),a=1,o=arguments.length;a<o;){var i=arguments[a];if(null!=i)for(var s in i)e=s,n=i,Object.prototype.hasOwnProperty.call(n,e)&&(r[s]=i[s]);a+=1}return r};function y(t){return null!=t&&"object"===typeof t&&!0===t["@@functional/placeholder"]}function C(t){return function e(n){return 0===arguments.length||y(n)?e:t.apply(this,arguments)}}var N=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};var j=C((function(t){return!!N(t)||!!t&&("object"===typeof t&&(!function(t){return"[object String]"===Object.prototype.toString.call(t)}(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}));var k=new E(Math.random()*Number.MAX_SAFE_INTEGER);var w,_,A=function(){var t="object"===typeof crypto?crypto.getRandomValues(new Uint8Array(1)):function(t){for(var e=t.length;e--;)t[e]=Math.floor(256*k.random());return t}(new Uint8Array(1));return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^t[0]&15>>e/4).toString(16)}))},I=(C((function(t){return S.apply(null,[{}].concat(t))})),C((w=!0,function t(e){for(var n,r,a,o=[],i=0,s=e.length;i<s;){if(j(e[i]))for(a=0,r=(n=w?t(e[i]):e[i]).length;a<r;)o[o.length]=n[a],a+=1;else o[o.length]=e[i];i+=1}return o})),C((function(t){return null==t}))),D=function(t,e){return t>e?-1:t<e?1:0};!function(t){t.idle="idle",t.pending="pending",t.done="done",t.error="error"}(_||(_={}));var R=v.e.model("DepositListStore").props({status:v.e.optional(v.e.enumeration("DepositListLoadingStatus",Object.values(_)),_.idle),deposits:v.e.optional(v.e.array(x),[]),currentlyTyping:v.e.optional(v.e.string,"")}).actions((function(t){return{setStatus:function(e){t.status=e},setDeposits:function(e){t.deposits?e?t.deposits.replace(e):t.deposits.clear():t.deposits=e},setCurrentlyTyping:function(e){t.currentlyTyping=e},addDeposit:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"",status:r.unprocessed,context:""},n=e.value,a=e.status,o=e.context;if(t.deposits){var i=x.create({id:A(),value:n,status:a,dateAdded:new Date,dateEdited:new Date,contextId:o}),s=[].concat(Object(g.a)(t.deposits),[i]);return t.deposits.replace(s),!0}return!1},changeDeposit:function(e,n){var r=n.value,a=n.status;return!(!t.deposits||!t.deposits[e])&&(r&&""!==r?(t.deposits[e].setValue(r),!0):!(!a||""===a)&&(t.deposits[e].setStatus(a),!0))}}})).views((function(t){return{get environment(){return Object(v.a)(t)},get rootStore(){return Object(v.b)(t)},get isLoading(){return"pending"===t.status},get chronological(){return t.deposits.slice().sort((function(t,e){return D(t.dateAdded.getTime(),e.dateAdded.getTime())}))}}})).actions((function(t){return{loadDeposits:Object(b.m)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setStatus(_.pending),e.prev=1,e.next=4,t.environment.depositApi.getDeposits();case 4:"ok"===(n=e.sent).kind?(t.setDeposits(n.deposits),t.setStatus(_.done)):t.setStatus(_.error),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),t.setStatus(_.error);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))}})).views((function(t){return{chronoView:function(e){return e?e.slice().sort((function(t,e){return D(t.dateAdded.getTime(),e.dateAdded.getTime())})):t.chronological},findByContext:function(e){return t.deposits.filter((function(t){return t.contextId===e}))}}})),T=v.e.model("Context").props({id:v.e.optional(v.e.identifier,"xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx"),name:v.e.optional(v.e.string,"")}).actions((function(t){return{setName:function(e){t.name=e}}})).views((function(t){return{get deposits(){var e=Object(v.b)(t);return e&&e.depositStore?e.depositStore.findByContext(t.id):[]}}})),P=v.e.model("ContextListStore").props({status:v.e.optional(v.e.enumeration("ContextListLoadingStatus",Object.values(_)),_.idle),contexts:v.e.optional(v.e.array(T),[]),defaultContext:v.e.optional(v.e.string,"ERROR")}).actions((function(t){return{setStatus:function(e){t.status=e},setContexts:function(e){t.contexts?e?t.contexts.replace(e):t.contexts.clear():t.contexts=e},setDefaultContext:function(e){t.contexts&&t.contexts.find((function(t){return t.id===e}))&&(t.defaultContext=e)},addContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(t.contexts){var n=T.create({id:A(),name:e}),r=[].concat(Object(g.a)(t.contexts),[n]);return t.contexts.replace(r),!0}return!1},changeContext:function(e,n){return!(!t.contexts||!t.contexts[e])&&(!!n&&(t.contexts[e].setName(n),!0))}}})).views((function(t){return{get environment(){return Object(v.a)(t)},get rootStore(){return Object(v.b)(t)},get isLoading(){return"pending"===t.status},get alphabetical(){return t.contexts.slice().sort((function(t,e){var n=t.name.toUpperCase(),r=e.name.toUpperCase();return r<n?-1:n>r?1:0}))}}})).actions((function(t){return{findByName:function(e){var n=t.contexts.find((function(t){return t.name===e}));return n||!1},findById:function(e){var n=t.contexts.find((function(t){return t.id===e}));return n||!1}}})),U=v.e.model("RootStore").props({depositStore:v.e.optional(R,{}),contextStore:v.e.optional(P,{}),projectStore:v.e.optional(v.e.string,"test"),user:v.e.optional(v.e.string,""),isDarkTheme:v.e.optional(v.e.boolean,!0),isNewStore:v.e.optional(v.e.boolean,!0),currentRoute:v.e.optional(v.e.string,"dashboard")}).views((function(t){return{get environment(){return Object(v.a)(t)}}})).actions((function(t){return{signIn:function(e,n){return t.environment.api.signInUser(e,n)},changeTheme:function(){return t.isDarkTheme=!t.isDarkTheme,!0},setIsNewStore:function(e){t.isNewStore=e},setCurrentRoute:function(e){t.currentRoute=e}}})),L=function t(){Object(p.a)(this,t),this.api=void 0,this.depositApi=void 0,this.contextApi=void 0},M={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_APP_ID},B=function(t){var e=localStorage.getItem(t);return"string"===typeof e?JSON.parse(e):null},F=function(t,e){try{return"object"===typeof e?localStorage.setItem(t,JSON.stringify(e)):localStorage.setItem(t,e),!0}catch(n){return!1}},V=n(20);function K(t){switch(t.problem){case"CONNECTION_ERROR":case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server"};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(t.status){case 401:return{kind:"unauthorized"};case 403:return{kind:"forbidden"};default:return{kind:"rejected"}}case"CANCEL_ERROR":return null}return null}var W={url:"https://api.github.com",timeout:1e3},z=n(32),J=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(p.a)(this,t),this.apisauce=void 0,this.config=void 0,this.auth=void 0,this.user=void 0,this.createUser=function(t,n){e.auth.createUserWithEmailAndPassword(t,n).then((function(t){e.user=t.user}),(function(r){e.signInUser(t,n)}))},this.signInUser=function(t,n){return e.auth.signInWithEmailAndPassword(t,n)},this.signOutUser=function(){return e.auth.signOut()},this.config=n,this.user={email:"test"}}return Object(d.a)(t,[{key:"setup",value:function(t){this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{}}),t&&(z.initializeApp(M),this.auth=z.auth())}},{key:"getUser",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.apisauce.get("/users/".concat(e));case 2:if((n=t.sent).ok){t.next=7;break}if(!(r=K(n))){t.next=7;break}return t.abrupt("return",r);case 7:return t.prev=7,a={},t.abrupt("return",{kind:"ok",user:a});case 12:return t.prev=12,t.t0=t.catch(7),t.abrupt("return",{kind:"bad-data"});case 15:case"end":return t.stop()}}),t,this,[[7,12]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),X=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(p.a)(this,t),this.apisauce=void 0,this.config=void 0,this.config=e}return Object(d.a)(t,[{key:"setup",value:function(){try{this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{Accept:"application/json"}})}catch(t){console.error(t.message)}}},{key:"getDeposits",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,a,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I(e)?{}:{completed:e},t.next=3,this.apisauce.get("/deposits",n);case 3:if((r=t.sent).ok){t.next=8;break}if(!(a=K(r))){t.next=8;break}return t.abrupt("return",a);case 8:return t.prev=8,o=r.data,t.abrupt("return",{kind:"ok",deposits:o});case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("return",{kind:"bad-data"});case 16:case"end":return t.stop()}}),t,this,[[8,13]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),G=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(p.a)(this,t),this.apisauce=void 0,this.config=void 0,this.config=e}return Object(d.a)(t,[{key:"setup",value:function(){try{this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{Accept:"application/json"}})}catch(t){console.error(t.message)}}},{key:"getContexts",value:function(){var t=Object(l.a)(u.a.mark((function t(e){var n,r,a,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=I(e)?{}:{completed:e},t.next=3,this.apisauce.get("/contexts",n);case 3:if((r=t.sent).ok){t.next=8;break}if(!(a=K(r))){t.next=8;break}return t.abrupt("return",a);case 8:return t.prev=8,o=r.data,t.abrupt("return",{kind:"ok",contexts:o});case 13:return t.prev=13,t.t0=t.catch(8),t.abrupt("return",{kind:"bad-data"});case 16:case"end":return t.stop()}}),t,this,[[8,13]])})));return function(e){return t.apply(this,arguments)}}()}]),t}(),H="AML";function Y(t){return $.apply(this,arguments)}function $(){return($=Object(l.a)(u.a.mark((function t(e){var n,r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,q(e);case 2:return a=t.sent,t.prev=3,t.next=6,B(H);case 6:if(t.t0=t.sent,t.t0){t.next=9;break}t.t0=Z();case 9:r=t.t0,n=U.create(r,a),t.next=16;break;case 13:t.prev=13,t.t1=t.catch(3),n=U.create(Z(),a);case 16:return n.isNewStore&&(n.setIsNewStore(!1),F(H,Object(v.c)(n))),Object(v.d)(n,(function(t){return F(H,t)})),t.abrupt("return",n);case 19:case"end":return t.stop()}}),t,null,[[3,13]])})))).apply(this,arguments)}function q(t){return Q.apply(this,arguments)}function Q(){return(Q=Object(l.a)(u.a.mark((function t(e){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new L).api=new J,n.depositApi=new X,n.contextApi=new G,t.next=6,n.api.setup(e);case 6:return t.next=8,n.depositApi.setup();case 8:return t.next=10,n.contextApi.setup();case 10:return t.abrupt("return",n);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Z(){var t=P.create();t.addContext("Default"),t.setDefaultContext(t.contexts[0].id);var e=R.create();return e.addDeposit({value:"Hey there! Welcome to fruition.",status:r.unprocessed,context:t.contexts[0].id}),{depositStore:e,contextStore:t}}var tt=n(17);n(131),n(132);function et(t){return o.a.createElement("div",{className:"Dashboard"},"Soon",o.a.createElement("sup",null,"TM"))}n(133),n(134);var nt,rt,at=n(145),ot=(n(135),n(144)),it=Object(tt.a)(nt=function(t){function e(t){var n;Object(p.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).changeSelectedContext=function(t){var e=t.target.id;n.setState({selectedContext:n.props.store.findById(e)}),n.props.store.setDefaultContext(e)},n.onFormSubmit=function(t){t.preventDefault();var e=n.state.newContextInput,r=n.props.store;0===e.length||r.findByName(e)||(r.addContext(e),n.setState({newContextInput:""}))},n.onInputChange=function(t){n.setState({newContextInput:t.target.value})},n.toggleOpen=function(){n.setState((function(t){return{isOpen:!t.isOpen}}))},n.globalToggleOpen=function(t){"currentContext"!==t.target.id&&"addNewContext"!==t.target.id&&"newContextForm"!==t.target.id&&"newContextLabel"!==t.target.id&&n.setState({isOpen:!1})};var r=n.props.store.findById(n.props.store.defaultContext);return n.state={selectedContext:r,isOpen:!1,newContextInput:"",error:""},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.globalToggleOpen,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.globalToggleOpen,!0)}},{key:"render",value:function(){var t=this,e=this.state,n=e.isOpen,r=e.selectedContext,a=e.newContextInput,i=this.props.store,s=i.contexts.slice().filter((function(t){return t.id!==r.id})).map((function(e){return o.a.createElement("div",{key:e.id,id:e.id,className:"context",onClick:t.changeSelectedContext},e.name)})),c=0===a.length||i.findByName(a);return o.a.createElement("div",{className:"Context"},o.a.createElement("div",{className:"title"},"CONTEXT"),o.a.createElement("div",{id:"currentContext",className:"current-context",onClick:this.toggleOpen,style:{borderRadius:n?"4px 4px 0 0":""}},o.a.createElement("div",{className:"context"},r.name),o.a.createElement("div",{className:"arrow"},o.a.createElement("div",{className:"arrow-inner"}))),o.a.createElement("div",{className:"other-contexts",style:{display:n?"block":"none"}},s,o.a.createElement("div",{className:"add-context"},o.a.createElement("form",{id:"newContextForm",onSubmit:this.onFormSubmit},o.a.createElement("label",{id:"newContextLabel",htmlFor:"addNewContext"},"ADD CONTEXT"),o.a.createElement("input",{id:"addNewContext",type:"text",value:a,onChange:this.onInputChange}),o.a.createElement("button",{type:"submit",disabled:c},o.a.createElement(ot.a,{size:16}))))))}}]),e}(o.a.Component))||nt,st=Object(tt.a)(rt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).onFormSubmit=function(t){if(t.preventDefault(),""!==n.state.formInput){var e={value:n.state.formInput,status:r.unprocessed,context:n.props.context.defaultContext};n.props.store.addDeposit(e)}n.setState({formInput:""})},n.onInputChange=function(t){n.setState({formInput:t.target.value}),n.props.store.setCurrentlyTyping(t.target.value)},n.clearForm=function(t){n.setState({formInput:""}),n.props.store.setCurrentlyTyping("")},n.state={formInput:t.store.currentlyTyping},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props.context;return o.a.createElement("div",{className:"Deposit-Form"},o.a.createElement("form",{onSubmit:this.onFormSubmit,className:"Deposit-Form-Form"},o.a.createElement("input",{type:"text",value:this.state.formInput,onChange:this.onInputChange,className:"Deposit-Form-Input"}),o.a.createElement("div",{className:"Input-Border"}),o.a.createElement("input",{type:"submit",className:"Button Deposit-Submit",value:"Add"}),""!==this.state.formInput?o.a.createElement("button",{type:"button",className:"Button Deposit-Clear",onClick:this.clearForm},o.a.createElement(at.a,{size:20})):null),o.a.createElement("div",{className:"Selections"},o.a.createElement(it,{store:t})))}}]),e}(o.a.Component))||rt,ct=(n(138),function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).onCheckChange=function(t){n.setState({checked:!n.state.checked}),n.props.changeStatus(t,n.props.depositId)},n.state={checked:t.status},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this.props,e=t.value,n=t.date,r=t.context,a=this.state.checked;return o.a.createElement("div",{className:"Deposit-List-Item"},o.a.createElement("div",{className:"Deposit-Check"},o.a.createElement("input",{type:"checkbox",checked:a,onChange:this.onCheckChange})),o.a.createElement("div",{className:"Deposit-Value"},o.a.createElement("div",{className:"Value",style:{textDecoration:a?"line-through":"none"}},e),o.a.createElement("div",{className:"subitems"},o.a.createElement("div",{className:"Context"},r.name),o.a.createElement("div",{className:"Date"},n.toDateString()))))}}]),e}(o.a.Component)),ut=n(47);n(139);function lt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function pt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?lt(n,!0).forEach((function(e){Object(ut.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lt(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var dt,ht=function(t){var e=t.variant&&t.variant,n="#3454D1";if(e)switch(e){case"theme":n="#922D50";break;default:n="#3454D1"}return o.a.createElement("button",{style:pt({background:n},t.style),type:"button",className:"Button",onClick:t.onClick},t.children)},mt=Object(tt.a)(dt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).onChangeStatus=function(t,e){var a=n.props.depositStore.deposits.findIndex((function(t){return t.id===e}));n.props.depositStore.changeDeposit(a,{value:"",status:n.props.depositStore.deposits[a].status===r.unprocessed?r.actedUpon:r.unprocessed})},n.changeShown=function(){n.setState((function(t){return{filters:{hide:!t.filters.hide}}}))},n.onClear=function(t){n.props.depositStore.setDeposits(null)},n.state={filters:{hide:!1}},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e=this.props.depositStore.chronological.map((function(e){return t.state.filters.hide?o.a.createElement(ct,{key:e.id,depositId:e.id,value:e.value,status:e.status!==r.unprocessed,date:e.dateAdded,changeStatus:t.onChangeStatus,context:t.props.contextStore.findById(e.contextId)}):e.status===r.unprocessed?o.a.createElement(ct,{key:e.id,depositId:e.id,value:e.value,status:e.status!==r.unprocessed,date:e.dateAdded,changeStatus:t.onChangeStatus,context:t.props.contextStore.findById(e.contextId)}):null}));return o.a.createElement("div",{className:"Deposits"},o.a.createElement(st,{store:this.props.depositStore,context:this.props.contextStore}),o.a.createElement("div",{className:"Deposit-List"},e),o.a.createElement(ht,{style:{padding:"0.5rem",marginRight:"0.4rem"},onClick:this.onClear},"Clear Deposits"),o.a.createElement(ht,{style:{padding:"0.5rem"},onClick:this.changeShown},this.state.filters.hide?"Hide Finished":"Show Finished"))}}]),e}(o.a.Component))||dt;n(140);function ft(t){return o.a.createElement("div",{className:"Projects"},"Soon",o.a.createElement("sup",null,"TM"))}var vt;n(141);function gt(t){return o.a.createElement("div",{className:"Stats"},"Soon",o.a.createElement("sup",null,"TM"))}function xt(t){return o.a.createElement("div",null,"Coming Soon!")}var bt,Ot=Object(tt.a)(vt=function(t){function e(){return Object(p.a)(this,e),Object(h.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t,e=this.props,n=e.depositStore,r=e.contextStore;switch(e.currentRoute){case"dashboard":t=o.a.createElement(et,null);break;case"deposits":t=o.a.createElement(mt,{depositStore:n,contextStore:r});break;case"projects":t=o.a.createElement(ft,null);break;case"stats":t=o.a.createElement(gt,null);break;case"options":t=o.a.createElement(xt,null);break;default:t=o.a.createElement(mt,{depositStore:n,contextStore:r})}return o.a.createElement("div",{className:"Root"},o.a.createElement("div",{className:"displayed-segment"},t))}}]),e}(o.a.Component))||vt,Et=(n(142),n(48)),St=n.n(Et),yt=function(t){function e(t){var n;return Object(p.a)(this,e),(n=Object(h.a)(this,Object(m.a)(e).call(this,t))).triggerSegmentChange=function(t){var e=t.target.id;n.props.onSegmentChange(e),n.setState({currentNav:e})},n.state={currentNav:t.initialNavState},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){var t=this,e=this.props.navItems,n=this.state.currentNav,r=e.slice().map((function(e){return o.a.createElement("div",{key:e.name,className:e.name===n?"Nav-Item Active":"Nav-Item",id:e.name,onClick:t.triggerSegmentChange},o.a.createElement("div",{className:"nav-icon"},e.icon))}));return o.a.createElement("div",{className:"Nav"},r,o.a.createElement("div",{className:"Nav-Item"},o.a.createElement("img",{src:St.a,alt:"logo",className:"logo"})))}}]),e}(o.a.Component),Ct=n(146),Nt=n(147),jt=n(148),kt=n(149),wt=n(150),_t=Object(tt.a)(bt=function(t){function e(){var t,n;Object(p.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(a)))).navItems=void 0,n.unsubscribeFromAuthStateChanges=void 0,n._isMounted=!1,n.authStateChange=function(t){t&&t.email&&n._isMounted?n.setState({userState:{email:t.email}}):n._isMounted&&n.setState({userState:{email:"not logged in"}})},n.authStateChangeError=function(t){console.log(t)},n.changeTheme=function(){n.state.rootStore&&n.state.rootStore.changeTheme()},n.onSegmentChange=function(t){n.state.rootStore&&n.state.rootStore.setCurrentRoute(t)},n}return Object(f.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){var t=Object(l.a)(u.a.mark((function t(){var e;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._isMounted=!0,this.navItems=[{name:"dashboard",icon:o.a.createElement(Ct.a,{size:24})},{name:"deposits",icon:o.a.createElement(Nt.a,{size:24})},{name:"projects",icon:o.a.createElement(jt.a,{size:24})},{name:"stats",icon:o.a.createElement(kt.a,{size:24})},{name:"options",icon:o.a.createElement(wt.a,{size:24})}],t.next=4,Y(!1);case 4:e=t.sent,this._isMounted&&this.setState({userState:{},rootStore:e}),e.environment.api.auth&&(this.unsubscribeFromAuthStateChanges=e.environment.api.auth.onAuthStateChanged(this.authStateChange,this.authStateChangeError));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuthStateChanges&&this.unsubscribeFromAuthStateChanges(),this._isMounted=!1}},{key:"render",value:function(){var t=this.state&&this.state.rootStore;if(!t)return o.a.createElement("div",null,"Initializing...");var e=t.depositStore,n=t.contextStore;return o.a.createElement("div",{className:t.isDarkTheme?"App Dark":"App Light"},o.a.createElement(yt,{onSegmentChange:this.onSegmentChange,initialNavState:t.currentRoute,navItems:this.navItems}),o.a.createElement("div",{className:"App-inner"},o.a.createElement(Ot,{currentRoute:t.currentRoute,rootStore:t,depositStore:e,contextStore:n})),o.a.createElement(ht,{variant:"theme",style:{position:"fixed",bottom:"1rem",right:"1rem",padding:"0.6rem"},onClick:this.changeTheme},"Change Theme"))}}]),e}(o.a.Component))||bt;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(_t,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},48:function(t,e,n){t.exports=n.p+"static/media/fruition.6e664e81.png"},49:function(t,e,n){t.exports=n(143)},54:function(t,e,n){},56:function(t,e,n){}},[[49,1,2]]]);
//# sourceMappingURL=main.bc792949.chunk.js.map