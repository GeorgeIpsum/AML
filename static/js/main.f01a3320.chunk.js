(this.webpackJsonpaml=this.webpackJsonpaml||[]).push([[0],{134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),i=n(23),s=n.n(i),c=(n(54),n(8)),u=n.n(c),p=n(17),d=n(6),l=n(7),f=n(11),m=n(10),h=n(12),v=(n(56),n(2));!function(e){e.unprocessed="unprocessed",e.trashed="trashed",e.incubated="incubated",e.referenced="referenced",e.actedUpon="acted upon",e.deferred="deferred",e.delegated="delegated",e.addedToProject="added to project"}(r||(r={}));var g=v.e.model("Deposit").props({id:v.e.optional(v.e.identifier,"xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx"),value:v.e.string,status:v.e.optional(v.e.enumeration("DepositStatus",Object.values(r)),r.unprocessed),dateAdded:v.e.optional(v.e.Date,new Date),dateEdited:v.e.optional(v.e.Date,new Date),dateCompleted:v.e.optional(v.e.union(v.e.boolean,v.e.Date),!1),positionInProject:v.e.optional(v.e.union(v.e.null,v.e.number),null),contextId:v.e.optional(v.e.string,""),projectId:v.e.optional(v.e.string,"")}).actions((function(e){return{setValue:function(t){e.value=t,e.dateEdited=new Date},setStatus:function(t){e.status=t,e.dateEdited=new Date},setContext:function(t){var n=Object(v.b)(e);n&&n.contextStore&&n.contextStore.findById(t)&&(e.contextId=t)},setProject:function(t){var n=Object(v.b)(e);n&&n.projectStore&&n.projectStore.findById(t)&&(e.projectId=t)}}})).views((function(e){return{get context(){var t=Object(v.b)(e);return t&&t.contextStore&&""!==e.contextId?t.contextStore.findById(e.contextId):""},get project(){var t=Object(v.b)(e);return t&&t.projectStore&&""!==e.projectId?t.projectStore.findById(e.projectId):""}}})),b=n(21),x=n(3),j=n(59);var S="function"===typeof Object.assign?Object.assign:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t,n,r=Object(e),a=1,o=arguments.length;a<o;){var i=arguments[a];if(null!=i)for(var s in i)t=s,n=i,Object.prototype.hasOwnProperty.call(n,t)&&(r[s]=i[s]);a+=1}return r};function O(e){return null!=e&&"object"===typeof e&&!0===e["@@functional/placeholder"]}function E(e){return function t(n){return 0===arguments.length||O(n)?t:e.apply(this,arguments)}}var y=Array.isArray||function(e){return null!=e&&e.length>=0&&"[object Array]"===Object.prototype.toString.call(e)};var I=E((function(e){return!!y(e)||!!e&&("object"===typeof e&&(!function(e){return"[object String]"===Object.prototype.toString.call(e)}(e)&&(1===e.nodeType?!!e.length:0===e.length||e.length>0&&(e.hasOwnProperty(0)&&e.hasOwnProperty(e.length-1)))))}));var C,N,k=function(){return"object"===typeof crypto?j():Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)},w=(E((function(e){return S.apply(null,[{}].concat(e))})),E((C=!0,function e(t){for(var n,r,a,o=[],i=0,s=t.length;i<s;){if(I(t[i]))for(a=0,r=(n=C?e(t[i]):t[i]).length;a<r;)o[o.length]=n[a],a+=1;else o[o.length]=t[i];i+=1}return o})),E((function(e){return null==e}))),D=function(e,t){return e>t?-1:e<t?1:0};!function(e){e.idle="idle",e.pending="pending",e.done="done",e.error="error"}(N||(N={}));var _=v.e.model("DepositListStore").props({status:v.e.optional(v.e.enumeration("DepositListLoadingStatus",Object.values(N)),N.idle),deposits:v.e.optional(v.e.array(g),[]),currentlyTyping:v.e.optional(v.e.string,"")}).actions((function(e){return{setStatus:function(t){e.status=t},setDeposits:function(t){e.deposits?t?e.deposits.replace(t):e.deposits.clear():e.deposits=t},setCurrentlyTyping:function(t){e.currentlyTyping=t},addDeposit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{value:"",status:r.unprocessed,context:"",project:""},n=t.value,a=t.status,o=t.context,i=t.project;if(e.deposits){var s={id:k(),contextId:o,projectId:i,value:n,status:a,positionInProject:null};if(i&&""!==i){var c=Object(v.b)(e);if(c&&c.projectStore){var u=c.projectStore.findById(i);u&&(s.positionInProject=u.deposits.length)}}var p=g.create(s),d=[].concat(Object(b.a)(e.deposits),[p]);return e.deposits.replace(d),!0}return!1},changeDeposit:function(t,n){var r=n.value,a=n.status;return!(!e.deposits||!e.deposits[t])&&(r&&""!==r?(e.deposits[t].setValue(r),!0):!(!a||""===a)&&(e.deposits[t].setStatus(a),!0))}}})).views((function(e){return{get environment(){return Object(v.a)(e)},get rootStore(){return Object(v.b)(e)},get isLoading(){return"pending"===e.status},get items(){return e.deposits},get chronological(){return e.deposits.slice().sort((function(e,t){return D(e.dateAdded.getTime(),t.dateAdded.getTime())}))}}})).actions((function(e){return{loadDeposits:Object(x.m)(u.a.mark((function t(){var n;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setStatus(N.pending),t.prev=1,t.next=4,e.environment.depositApi.getDeposits();case 4:"ok"===(n=t.sent).kind?(e.setDeposits(n.deposits),e.setStatus(N.done)):e.setStatus(N.error),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e.setStatus(N.error);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})))}})).views((function(e){return{chronoView:function(t){return t?t.slice().sort((function(e,t){return D(e.dateAdded.getTime(),t.dateAdded.getTime())})):e.chronological},findById:function(t){if(e.deposits){var n=e.deposits.find((function(e){return e.id===t}));return n||!1}return!1},findByContext:function(t){return e.deposits.filter((function(e){return e.contextId===t}))},findByProject:function(t){return e.deposits.filter((function(e){return e.projectId===t}))}}})),A=v.e.model("Context").props({id:v.e.optional(v.e.identifier,"xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx"),name:v.e.optional(v.e.string,"")}).actions((function(e){return{setName:function(t){e.name=t}}})).views((function(e){return{get deposits(){var t=Object(v.b)(e);return t&&t.depositStore?t.depositStore.findByContext(e.id):[]}}})),P=v.e.model("ContextListStore").props({status:v.e.optional(v.e.enumeration("ContextListLoadingStatus",Object.values(N)),N.idle),contexts:v.e.optional(v.e.array(A),[]),defaultContext:v.e.optional(v.e.string,"ERROR")}).actions((function(e){return{setStatus:function(t){e.status=t},setContexts:function(t){e.contexts?t?e.contexts.replace(t):e.contexts.clear():e.contexts=t},setDefaultContext:function(t){e.contexts&&e.contexts.find((function(e){return e.id===t}))&&(e.defaultContext=t)},addContext:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Context";if(e.contexts){var n=A.create({id:k(),name:t}),r=[].concat(Object(b.a)(e.contexts),[n]);return e.contexts.replace(r),!0}return!1},changeContext:function(t,n){return!(!e.contexts||!e.contexts[t])&&(!!n&&(e.contexts[t].setName(n),!0))}}})).views((function(e){return{get environment(){return Object(v.a)(e)},get rootStore(){return Object(v.b)(e)},get isLoading(){return"pending"===e.status},get defaultItem(){return e.defaultContext},get items(){return e.contexts},get alphabetical(){return e.contexts.slice().sort((function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase();return D(n,r)}))}}})).actions((function(e){return{findByName:function(t){var n=e.contexts.find((function(e){return e.name===t}));return n||!1},findById:function(t){var n=e.contexts.find((function(e){return e.id===t}));return n||!1}}})).actions((function(e){return{addItem:function(t){e.addContext(t)},setDefaultItem:function(t){e.setDefaultContext(t)}}})),R=v.e.model("Project").props({id:v.e.optional(v.e.identifier,"xxxxxxxx-xxxx-Mxxx-Nxxx-xxxxxxxxxxxx"),name:v.e.optional(v.e.string,"New Project"),active:v.e.optional(v.e.boolean,!1),dateAdded:v.e.optional(v.e.Date,new Date),dateEdited:v.e.optional(v.e.Date,new Date),dateCompleted:v.e.optional(v.e.union(v.e.boolean,v.e.Date),!1)}).actions((function(e){return{setName:function(t){e.name=t},setActive:function(t){e.active=t}}})).views((function(e){return{get deposits(){var t=Object(v.b)(e);return t&&t.depositStore?t.depositStore.findByProject(e.id):[]},get rootStore(){return Object(v.b)(e)}}})),T=v.e.model("ProjectListStore").props({status:v.e.optional(v.e.enumeration("ProjectListLoadingStatus",Object.values(N)),N.idle),projects:v.e.optional(v.e.array(R),[]),defaultProject:v.e.optional(v.e.string,""),selectedProject:v.e.optional(v.e.string,"")}).actions((function(e){return{setStatus:function(t){e.status=t},setProjects:function(t){t?e.projects?e.projects.replace(t):e.projects=t:e.projects.clear()},setDefaultItem:function(t){e.selectedProject=t},addProject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Project";if(e.projects){var n=R.create({id:k(),name:t}),r=[].concat(Object(b.a)(e.projects),[n]);return e.projects.replace(r),!0}return!1},changeProject:function(t,n){return!(!e.projects||!e.projects[t])&&(!!n&&(e.projects[t].setName(n),!0))}}})).views((function(e){return{get environment(){return Object(v.a)(e)},get rootStore(){return Object(v.b)(e)},get isLoading(){return"pending"===e.status},get defaultItem(){return e.defaultProject},get items(){return e.projects},get alphabetical(){return e.projects.slice().sort((function(e,t){var n=e.name.toUpperCase(),r=t.name.toUpperCase();return D(n,r)}))}}})).actions((function(e){return{findById:function(t){if(e.projects){var n=e.projects.find((function(e){return e.id===t}));return n||!1}return!1},findByName:function(t){if(e.projects){var n=e.projects.find((function(e){return e.name===t}));return n||!1}return!1}}})).actions((function(e){return{addItem:function(t){e.addProject(t)}}})),L=v.e.model("RootStore").props({depositStore:v.e.optional(_,{}),contextStore:v.e.optional(P,{}),projectStore:v.e.optional(T,{}),user:v.e.optional(v.e.string,""),isDarkTheme:v.e.optional(v.e.boolean,!0),isNewStore:v.e.optional(v.e.boolean,!0),currentRoute:v.e.optional(v.e.string,"dashboard")}).views((function(e){return{get environment(){return Object(v.a)(e)}}})).actions((function(e){return{signIn:function(t,n){return e.environment.api.signInUser(t,n)},changeTheme:function(){return e.isDarkTheme=!e.isDarkTheme,!0},setIsNewStore:function(t){e.isNewStore=t},setCurrentRoute:function(t){e.currentRoute=t}}})),U=function e(){Object(d.a)(this,e),this.api=void 0,this.depositApi=void 0,this.contextApi=void 0},B={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_AUTH_DOMAIN,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_DATABASE_URL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/fruition"}).REACT_APP_APP_ID},M=function(e){var t=localStorage.getItem(e);return"string"===typeof t?JSON.parse(t):null},F=function(e,t){try{return"object"===typeof t?localStorage.setItem(e,JSON.stringify(t)):localStorage.setItem(e,t),!0}catch(n){return!1}},V=n(20);function z(e){switch(e.problem){case"CONNECTION_ERROR":case"NETWORK_ERROR":return{kind:"cannot-connect",temporary:!0};case"TIMEOUT_ERROR":return{kind:"timeout",temporary:!0};case"SERVER_ERROR":return{kind:"server"};case"UNKNOWN_ERROR":return{kind:"unknown",temporary:!0};case"CLIENT_ERROR":switch(e.status){case 401:return{kind:"unauthorized"};case 403:return{kind:"forbidden"};default:return{kind:"rejected"}}case"CANCEL_ERROR":return null}return null}var W={url:"https://api.github.com",timeout:1e3},J=n(32),G=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(d.a)(this,e),this.apisauce=void 0,this.config=void 0,this.auth=void 0,this.user=void 0,this.createUser=function(e,n){t.auth.createUserWithEmailAndPassword(e,n).then((function(e){t.user=e.user}),(function(r){t.signInUser(e,n)}))},this.signInUser=function(e,n){return t.auth.signInWithEmailAndPassword(e,n)},this.signOutUser=function(){return t.auth.signOut()},this.config=n,this.user={email:"test"}}return Object(l.a)(e,[{key:"setup",value:function(e){this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{}}),e&&(J.initializeApp(B),this.auth=J.auth())}},{key:"getUser",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.apisauce.get("/users/".concat(t));case 2:if((n=e.sent).ok){e.next=7;break}if(!(r=z(n))){e.next=7;break}return e.abrupt("return",r);case 7:return e.prev=7,a={},e.abrupt("return",{kind:"ok",user:a});case 12:return e.prev=12,e.t0=e.catch(7),e.abrupt("return",{kind:"bad-data"});case 15:case"end":return e.stop()}}),e,this,[[7,12]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),K=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(d.a)(this,e),this.apisauce=void 0,this.config=void 0,this.config=t}return Object(l.a)(e,[{key:"setup",value:function(){try{this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{Accept:"application/json"}})}catch(e){console.error(e.message)}}},{key:"getDeposits",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t)?{}:{completed:t},e.next=3,this.apisauce.get("/deposits",n);case 3:if((r=e.sent).ok){e.next=8;break}if(!(a=z(r))){e.next=8;break}return e.abrupt("return",a);case 8:return e.prev=8,o=r.data,e.abrupt("return",{kind:"ok",deposits:o});case 13:return e.prev=13,e.t0=e.catch(8),e.abrupt("return",{kind:"bad-data"});case 16:case"end":return e.stop()}}),e,this,[[8,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),H=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;Object(d.a)(this,e),this.apisauce=void 0,this.config=void 0,this.config=t}return Object(l.a)(e,[{key:"setup",value:function(){try{this.apisauce=Object(V.create)({baseURL:this.config.url,timeout:this.config.timeout,headers:{Accept:"application/json"}})}catch(e){console.error(e.message)}}},{key:"getContexts",value:function(){var e=Object(p.a)(u.a.mark((function e(t){var n,r,a,o;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=w(t)?{}:{completed:t},e.next=3,this.apisauce.get("/contexts",n);case 3:if((r=e.sent).ok){e.next=8;break}if(!(a=z(r))){e.next=8;break}return e.abrupt("return",a);case 8:return e.prev=8,o=r.data,e.abrupt("return",{kind:"ok",contexts:o});case 13:return e.prev=13,e.t0=e.catch(8),e.abrupt("return",{kind:"bad-data"});case 16:case"end":return e.stop()}}),e,this,[[8,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Y="AML";function $(e){return q.apply(this,arguments)}function q(){return(q=Object(p.a)(u.a.mark((function e(t){var n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q(t);case 2:return a=e.sent,e.prev=3,e.next=6,M(Y);case 6:if(e.t0=e.sent,e.t0){e.next=9;break}e.t0=Z();case 9:r=e.t0,n=L.create(r,a),e.next=16;break;case 13:e.prev=13,e.t1=e.catch(3),n=L.create(Z(),a);case 16:return n.isNewStore&&(n.setIsNewStore(!1),F(Y,Object(v.c)(n))),Object(v.d)(n,(function(e){return F(Y,e)})),e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Q(e){return X.apply(this,arguments)}function X(){return(X=Object(p.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new U).api=new G,n.depositApi=new K,n.contextApi=new H,e.next=6,n.api.setup(t);case 6:return e.next=8,n.depositApi.setup();case 8:return e.next=10,n.contextApi.setup();case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){var e=P.create();e.addContext("Default"),e.setDefaultContext(e.contexts[0].id);var t=_.create();return t.addDeposit({value:"Hey there! Welcome to fruition.",status:r.unprocessed,context:e.contexts[0].id}),{depositStore:t,contextStore:e}}var ee=n(13);n(134),n(135);function te(e){return o.a.createElement("div",{className:"Dashboard"},"Soon",o.a.createElement("sup",null,"TM"))}n(136),n(137);var ne,re,ae=n(149),oe=(n(138),n(148)),ie=Object(ee.a)(ne=function(e){function t(e){var n;Object(d.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).changeSelectedItem=function(e){var t=e.target.id,r=n.props.store.findById(t);n.setState({selectedItem:r||{name:"(none)",id:n.props.id+"_SELECT_NO_DEFAULT"}}),n.props.store.setDefaultItem(t)},n.onFormSubmit=function(e){e.preventDefault();var t=n.state.newItemInput,r=n.props.store;0===t.length||r.findByName(t)||(r.addItem(t),n.setState({newItemInput:""}))},n.onInputChange=function(e){n.setState({newItemInput:e.target.value})},n.toggleOpen=function(){n.setState((function(e){return{isOpen:!e.isOpen}}))},n.globalToggleOpen=function(e){var t=document.getElementById(n.props.id+"_Item_Select");t&&e.target.id!==t&&!t.contains(e.target)&&n.setState({isOpen:!1})};var r=n.props.store.findById(n.props.store.defaultItem);return n.state={selectedItem:r||{name:"(none)",id:n.props.id+"_SELECT_NO_DEFAULT"},isOpen:!1,newItemInput:"",error:""},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("click",this.globalToggleOpen,!0)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.globalToggleOpen,!0)}},{key:"render",value:function(){var e=this,t=this.state,n=t.isOpen,r=t.selectedItem,a=t.newItemInput,i=this.props,s=i.store,c=i.id,u=i.canBeNull,p=c+"_Item_Select",d=c+"_Input_Item_Select",l=s.items.slice().filter((function(e){return e.id!==r.id})).map((function(t){return o.a.createElement("div",{key:t.id,id:t.id,className:"item",onClick:e.changeSelectedItem},t.name)})),f=0===a.length||s.findByName(a);return o.a.createElement("div",{id:p,className:"Item-Select"},o.a.createElement("div",{className:"title"}," ",c.toUpperCase()," "),o.a.createElement("div",{className:"current-item",onClick:this.toggleOpen,style:{borderRadius:n?"4px 4px 0 0":""}},o.a.createElement("div",{className:"item"},r.name),o.a.createElement("div",{className:"arrow"},o.a.createElement("div",{className:"arrow-inner"}))),o.a.createElement("div",{className:"other-items",style:{display:n?"block":"none"}},l,u&&r.id!==c+"_SELECT_NO_DEFAULT"?o.a.createElement("div",{id:c+"_SELECT_NO_DEFAULT",className:"item item-none",onClick:this.changeSelectedItem},"No Project"):null,o.a.createElement("div",{className:"add-item"},o.a.createElement("form",{onSubmit:this.onFormSubmit},o.a.createElement("label",{htmlFor:d},"ADD ",c.toUpperCase()),o.a.createElement("input",{id:d,type:"text",value:a,onChange:this.onInputChange}),o.a.createElement("button",{type:"submit",disabled:f},o.a.createElement(oe.a,{size:16}))))))}}]),t}(o.a.Component))||ne,se=Object(ee.a)(re=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).onFormSubmit=function(e){if(e.preventDefault(),""!==n.state.formInput){var t={value:n.state.formInput,status:r.unprocessed,context:n.props.context.defaultContext,project:n.props.project.selectedProject};n.props.store.addDeposit(t)}n.setState({formInput:""})},n.onInputChange=function(e){n.setState({formInput:e.target.value}),n.props.store.setCurrentlyTyping(e.target.value)},n.clearForm=function(e){n.setState({formInput:""}),n.props.store.setCurrentlyTyping("")},n.state={formInput:e.store.currentlyTyping},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.context,n=e.project;return o.a.createElement("div",{className:"Deposit-Form"},o.a.createElement("form",{onSubmit:this.onFormSubmit,className:"deposit-form-form"},o.a.createElement("input",{type:"text",value:this.state.formInput,onChange:this.onInputChange,className:"deposit-form-input"}),o.a.createElement("div",{className:"input-border"}),o.a.createElement("input",{type:"submit",className:"deposit-submit",value:"Add",disabled:""===this.state.formInput}),""!==this.state.formInput?o.a.createElement("button",{type:"button",className:"deposit-clear",onClick:this.clearForm},o.a.createElement(ae.a,{size:20})):null),o.a.createElement("div",{className:"selections"},o.a.createElement(ie,{id:"Context",store:t,canBeNull:!1}),o.a.createElement(ie,{id:"Project",store:n,canBeNull:!0})))}}]),t}(o.a.Component))||re;n(141);function ce(e){var t=e.value,n=e.date,r=e.context,a=e.project,i=e.status;return o.a.createElement("div",{className:"Deposit-List-Item"},o.a.createElement("div",{className:"deposit-check"},o.a.createElement("input",{type:"checkbox",checked:i,onChange:function(t){e.changeStatus(t,e.depositId)}})),o.a.createElement("div",{className:"deposit-value"},o.a.createElement("div",{className:"value",style:{textDecoration:i?"line-through":"none"}},t),o.a.createElement("div",{className:"subitems"},o.a.createElement("div",{className:"context"},r.name),a?o.a.createElement("div",{className:"project"},"PROJECT: ",a.name):null,o.a.createElement("div",{className:"date"},n.toDateString()))))}var ue=n(47);n(142);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(n,!0).forEach((function(t){Object(ue.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var le,fe=function(e){var t=e.variant&&e.variant,n="#3454D1";if(t)switch(t){case"theme":n="#922D50";break;default:n="#3454D1"}return o.a.createElement("button",{style:de({background:n},e.style),type:"button",className:"Button",onClick:e.onClick},e.children)},me=Object(ee.a)(le=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).onChangeStatus=function(e,t){var a=n.props.depositStore.deposits.findIndex((function(e){return e.id===t}));n.props.depositStore.changeDeposit(a,{value:"",status:n.props.depositStore.deposits[a].status===r.unprocessed?r.actedUpon:r.unprocessed})},n.changeShown=function(){n.setState((function(e){return{filters:{hide:!e.filters.hide}}}))},n.onClear=function(e){n.props.depositStore.setDeposits(null)},n.state={filters:{hide:!1}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.depositStore.chronological.map((function(t){return e.state.filters.hide?o.a.createElement(ce,{key:t.id,depositId:t.id,value:t.value,status:t.status!==r.unprocessed,date:t.dateAdded,changeStatus:e.onChangeStatus,context:e.props.contextStore.findById(t.contextId),project:e.props.projectStore.findById(t.projectId)}):t.status===r.unprocessed?o.a.createElement(ce,{key:t.id,depositId:t.id,value:t.value,status:t.status!==r.unprocessed,date:t.dateAdded,changeStatus:e.onChangeStatus,context:e.props.contextStore.findById(t.contextId),project:e.props.projectStore.findById(t.projectId)}):null}));return o.a.createElement("div",{className:"Deposits"},o.a.createElement(se,{store:this.props.depositStore,context:this.props.contextStore,project:this.props.projectStore}),o.a.createElement("div",{className:"deposit-list"},t),o.a.createElement(fe,{style:{padding:"0.5rem",marginRight:"0.4rem"},onClick:this.onClear},"Clear Deposits"),o.a.createElement(fe,{style:{padding:"0.5rem"},onClick:this.changeShown},this.state.filters.hide?"Hide Finished":"Show Finished"))}}]),t}(o.a.Component))||le;n(143),n(144);var he,ve,ge=Object(ee.a)((function(e){var t=function(t,n){var r={type:"deposit_change",event:t,id:n};e.onGenericCallback(r)},n=e.project.deposits.slice().map((function(n){var a={depositId:n.id,value:n.value,status:n.status!==r.unprocessed,date:n.dateAdded,changeStatus:t,context:e.project.rootStore.contextStore.findById(n.contextId),project:e.project};return o.a.createElement(ce,Object.assign({key:n.id},a))}));return o.a.createElement("div",{className:"Project-List-Item"},o.a.createElement("div",{className:"title"},e.project.name),o.a.createElement("div",{className:"deposit-list"},n))})),be=Object(ee.a)(he=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(o)))).handleCallback=function(e){if("deposit_change"===e.type&&e.id){var t=n.props.stores.depositStore.deposits.findIndex((function(t){return t.id===e.id}));n.props.stores.depositStore.changeDeposit(t,{value:"",status:n.props.stores.depositStore.deposits[t].status===r.unprocessed?r.actedUpon:r.unprocessed})}},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.stores.projectStore.projects.slice().map((function(t){var n={project:t,onGenericCallback:e.handleCallback};return o.a.createElement(ge,Object.assign({key:t.id},n))}));return o.a.createElement("div",{className:"Projects"},t)}}]),t}(o.a.Component))||he;n(145);function xe(e){return o.a.createElement("div",{className:"Stats"},"Soon",o.a.createElement("sup",null,"TM"))}function je(e){return o.a.createElement("div",null,"Coming Soon!")}var Se,Oe=Object(ee.a)(ve=function(e){function t(){return Object(d.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t=this.props,n=t.rootStore,r=t.currentRoute,a=n.depositStore,i=n.contextStore,s=n.projectStore;switch(r){case"dashboard":e=o.a.createElement(te,null);break;case"deposits":e=o.a.createElement(me,{depositStore:a,contextStore:i,projectStore:s});break;case"projects":e=o.a.createElement(be,{stores:n});break;case"stats":e=o.a.createElement(xe,null);break;case"options":e=o.a.createElement(je,null);break;default:e=o.a.createElement(me,{depositStore:a,contextStore:i,projectStore:s})}return o.a.createElement("div",{className:"Root"},o.a.createElement("div",{className:"displayed-segment"},e))}}]),t}(o.a.Component))||ve,Ee=(n(146),n(48)),ye=n.n(Ee),Ie=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(f.a)(this,Object(m.a)(t).call(this,e))).triggerSegmentChange=function(e){var t=e.target.id;n.props.onSegmentChange(t),n.setState({currentNav:t})},n.state={currentNav:e.initialNavState},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.navItems,n=this.state.currentNav,r=t.slice().map((function(t){return o.a.createElement("div",{key:t.name,className:t.name===n?"nav-item active":"nav-item",id:t.name,onClick:e.triggerSegmentChange},o.a.createElement("div",{className:"nav-icon"},t.icon))}));return o.a.createElement("div",{className:"Nav"},r,o.a.createElement("div",{className:"nav-item"},o.a.createElement("img",{src:ye.a,alt:"logo",className:"logo"})))}}]),t}(o.a.Component),Ce=n(150),Ne=n(151),ke=n(152),we=n(153),De=n(154),_e=Object(ee.a)(Se=function(e){function t(){var e,n;Object(d.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).navItems=void 0,n.unsubscribeFromAuthStateChanges=void 0,n._isMounted=!1,n.authStateChange=function(e){e&&e.email&&n._isMounted?n.setState({userState:{email:e.email}}):n._isMounted&&n.setState({userState:{email:"not logged in"}})},n.authStateChangeError=function(e){console.log(e)},n.changeTheme=function(){n.state.rootStore&&n.state.rootStore.changeTheme()},n.onSegmentChange=function(e){n.state.rootStore&&n.state.rootStore.setCurrentRoute(e)},n}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._isMounted=!0,this.navItems=[{name:"dashboard",icon:o.a.createElement(Ce.a,{size:24})},{name:"deposits",icon:o.a.createElement(Ne.a,{size:24})},{name:"projects",icon:o.a.createElement(ke.a,{size:24})},{name:"stats",icon:o.a.createElement(we.a,{size:24})},{name:"options",icon:o.a.createElement(De.a,{size:24})}],e.next=4,$(!1);case 4:t=e.sent,this._isMounted&&this.setState({userState:{},rootStore:t}),t.environment.api.auth&&(this.unsubscribeFromAuthStateChanges=t.environment.api.auth.onAuthStateChanged(this.authStateChange,this.authStateChangeError));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.unsubscribeFromAuthStateChanges&&this.unsubscribeFromAuthStateChanges(),this._isMounted=!1}},{key:"render",value:function(){var e=this.state&&this.state.rootStore;return e?o.a.createElement("div",{className:e.isDarkTheme?"App Dark":"App Light"},o.a.createElement(Ie,{onSegmentChange:this.onSegmentChange,initialNavState:e.currentRoute,navItems:this.navItems}),o.a.createElement("div",{className:"App-inner"},o.a.createElement(Oe,{currentRoute:e.currentRoute,rootStore:e})),o.a.createElement(fe,{variant:"theme",style:{position:"fixed",bottom:"1rem",right:"1rem",padding:"0.6rem"},onClick:this.changeTheme},"Change Theme")):o.a.createElement("div",null,"Initializing...")}}]),t}(o.a.Component))||Se;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(_e,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},48:function(e,t,n){e.exports=n.p+"static/media/fruition.6e664e81.png"},49:function(e,t,n){e.exports=n(147)},54:function(e,t,n){},56:function(e,t,n){}},[[49,1,2]]]);
//# sourceMappingURL=main.f01a3320.chunk.js.map